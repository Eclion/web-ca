(function(t){function e(e){for(var a,s,o=e[0],l=e[1],u=e[2],f=0,p=[];f<o.length;f++)s=o[f],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&p.push(r[s][0]),r[s]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);c&&c(e);while(p.length)p.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,o=1;o<n.length;o++){var l=n[o];0!==r[l]&&(a=!1)}a&&(i.splice(e--,1),t=s(s.s=n[0]))}return t}var a={},r={app:0},i=[];function s(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=a,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(n,a,function(e){return t[e]}.bind(null,a));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/web-ca/";var o=this["webpackJsonp"]=this["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var c=l;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("v-app-bar",{staticStyle:{flex:"0 1 auto"}},[n("v-tabs",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[n("v-tab",[t._v("Model")]),n("v-tab",[t._v("Papers")])],1),n("v-switch",{attrs:{"hide-details":"",inset:"",label:"Dark mode"},model:{value:t.$vuetify.theme.dark,callback:function(e){t.$set(t.$vuetify.theme,"dark",e)},expression:"$vuetify.theme.dark"}}),n("v-btn",{attrs:{href:"https://github.com/Eclion/web-ca/",target:"_blank",text:""}},[n("v-icon",{attrs:{large:""}},[t._v("mdi-github")])],1)],1),n("v-container",[n("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[n("v-tab-item",[n("Model")],1),n("v-tab-item",[n("PaperList")],1)],1)],1)],1)},i=[],s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-flex",{attrs:{"d-flex":""}},[n("v-layout",{attrs:{wrap:""}},t._l(t.papers,(function(e){return n("v-flex",{key:e},[n("v-card",{staticClass:"card-container"},[n("v-card-title",[n("a",{attrs:{href:e.url}},[t._v(t._s(e.title))])]),n("v-card-subtitle",[t._v(t._s(e.authors.join(", ")))])],1)],1)})),1)],1)},o=[],l={name:"PaperList",components:{},data:function(){return{papers:[{title:"Defining rules for cancer cell proliferation in TRAIL stimulation",authors:["William Deveaux","Kentaro Hayashi","Kumar Selvarajoo"],publisher:"npjSystems Biology and Applications",url:"https://www.nature.com/articles/s41540-019-0084-5"}]}}},u=l,c=n("2877"),f=n("6544"),p=n.n(f),m=n("b0af"),d=n("99d9"),v=n("0e8f"),b=n("a722"),h=Object(c["a"])(u,s,o,!1,null,null,null),g=h.exports;p()(h,{VCard:m["a"],VCardSubtitle:d["a"],VCardTitle:d["c"],VFlex:v["a"],VLayout:b["a"]});var y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("v-row",{attrs:{"align-content":"center"}},[n("v-col",[n("MainControls")],1)],1),n("v-row",{attrs:{"align-content":"center"}},[n("v-col",{attrs:{cols:"7"}},[n("Parameters")],1),n("v-col",[n("SimulationDisplay")],1)],1)],1)},_=[],w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-row",[n("v-col",{attrs:{cols:"6"}},[t._v(" profile subsection "),n("br"),t._v(' profile selection ("game of life", "custom", etc) '),n("br"),n("v-btn-toggle",[n("v-btn",{attrs:{color:"primary",depressed:""}},[t._v("save")]),n("v-btn",{attrs:{color:"primary",depressed:""}},[t._v("load")])],1)],1)],1)},S=[],V=n("8336"),x=n("a609"),F=n("62ad"),k=n("0fd9"),O={},T=Object(c["a"])(O,w,S,!1,null,null,null),j=T.exports;p()(T,{VBtn:V["a"],VBtnToggle:x["a"],VCol:F["a"],VRow:k["a"]});var C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{attrs:{color:"primary"}},[n("v-card-text",[t._v("Parameters container")]),n("v-card-text",[t._v("-tabs")]),n("v-card-text",[t._v("--container")])],1)},$=[],M={components:{},data:function(){return{}}},P=M,R=Object(c["a"])(P,C,$,!1,null,null,null),A=R.exports;p()(R,{VCard:m["a"],VCardText:d["b"]});var D=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{attrs:{color:"primary"}},[n("v-col",[n("v-row",[n("v-col",{attrs:{md:"9"}},[n("v-tabs",{attrs:{"background-color":"primary"},model:{value:t.simulationTab,callback:function(e){t.simulationTab=e},expression:"simulationTab"}},t._l(t.$store.getters["simulations/simulations"],(function(e){return n("v-tab",{key:e.id},[t._v(t._s(e.id))])})),1)],1),n("v-spacer"),n("v-col",{attrs:{md:"3"}},[n("v-btn-toggle",[n("v-btn",{attrs:{color:"primary",depressed:""},on:{click:function(e){return t.updateState("running")}}},[n("v-icon",[t._v("mdi-play")])],1),n("v-btn",{attrs:{color:"primary",depressed:""},on:{click:function(e){return t.updateState("stopped")}}},[n("v-icon",[t._v("mdi-stop")])],1),n("v-btn",{attrs:{color:"primary",depressed:""},on:{click:function(e){return t.updateState("init")}}},[n("v-icon",[t._v("mdi-replay")])],1)],1)],1)],1),n("v-row",[n("v-tabs-items",{staticStyle:{height:"0px",width:"0px"},model:{value:t.simulationTab,callback:function(e){t.simulationTab=e},expression:"simulationTab"}},t._l(t.$store.getters["simulations/simulations"],(function(t){return n("v-tab-item",{key:t.id},[n("Simulation",{attrs:{id:t.id}})],1)})),1)],1),n("v-row",{attrs:{justify:"center"}},[null!==t.simulationTab?n("Dish",{attrs:{id:t.simulationTab}}):t._e()],1)],1)],1)},E=[],B=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-col")},N=[],I=n("a62b"),J=I["a"],L=Object(c["a"])(J,B,N,!1,null,null,null),W=L.exports;p()(L,{VCol:F["a"]});var K=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("canvas",{ref:"dish"})},H=[],q=(n("cb29"),n("d81d"),n("a9e3"),{data:function(){return{colorMap:{0:"#333333",1:"#FFFFFF"}}},props:{id:{type:Number,default:0}},methods:{clear:function(){var t=this.$store.getters["parameters/dish_settings"];console.log();var e=Array(t.width).fill().map((function(){return Array(t.height).fill().map((function(){return Array(t.depth).fill(0)}))}));this.draw(e)},draw:function(t){var e=t.length;if(!(e<=0)){var n=t[0].length,a=this.$refs.dish,r=a.getContext("2d"),i=Math.max(1,Math.floor(a.parentElement.clientWidth/e));a.width=e*i,a.height=n*i;for(var s=0;s<e;s++)for(var o=0;o<n;o++){for(var l=0,u=0;u<t[s][o].length;u++){var c=t[s][o][u];if(0!==c){l=c;break}}r.fillStyle=this.colorMap[l];var f=s*i,p=o*i;r.fillRect(f,p,i,i)}}}},mounted:function(){var t=this;this.unwatch=this.$store.watch((function(e,n){return n["simulations/cells"](t.id)}),(function(e,n){t.draw(e)}))},beforeDestroy:function(){this.unwatch(),console.clear()}}),z=q,G=Object(c["a"])(z,K,H,!1,null,null,null),Q=G.exports,U={components:{Simulation:W,Dish:Q},data:function(){return{simulationTab:0}},methods:{updateState:function(t){console.log(this.simulationTab),this.$store.commit("simulations/setState",{id:this.simulationTab,state:t})}}},X=U,Y=n("132d"),Z=n("2fa4"),tt=n("71a3"),et=n("c671"),nt=n("fe57"),at=n("aac8"),rt=Object(c["a"])(X,D,E,!1,null,null,null),it=rt.exports;p()(rt,{VBtn:V["a"],VBtnToggle:x["a"],VCard:m["a"],VCol:F["a"],VIcon:Y["a"],VRow:k["a"],VSpacer:Z["a"],VTab:tt["a"],VTabItem:et["a"],VTabs:nt["a"],VTabsItems:at["a"]});var st={components:{MainControls:j,Parameters:A,SimulationDisplay:it},data:function(){return{}}},ot=st,lt=n("a523"),ut=Object(c["a"])(ot,y,_,!1,null,null,null),ct=ut.exports;p()(ut,{VCol:F["a"],VContainer:lt["a"],VRow:k["a"]});var ft={name:"App",components:{Model:ct,PaperList:g},data:function(){return{tab:null}}},pt=ft,mt=n("7496"),dt=n("40dc"),vt=n("b73d"),bt=Object(c["a"])(pt,r,i,!1,null,null,null),ht=bt.exports;p()(bt,{VApp:mt["a"],VAppBar:dt["a"],VBtn:V["a"],VContainer:lt["a"],VIcon:Y["a"],VSwitch:vt["a"],VTab:tt["a"],VTabItem:et["a"],VTabs:nt["a"],VTabsItems:at["a"]});var gt=n("2f62"),yt={namespaced:!0,state:{dish_settings:{width:100,height:100,depth:1},cell_types:[{name:"empty",color:"#000000",rules:["if live neighbors between 2 to 3, becomes live"]},{name:"live",color:"#FFFFFF",rules:["if live neighbors less than 3, becomes empty, else live","if neighbors more than 3, then empty, else live"],distribution:{type:"random",count:500}}],number_of_simulations:1,number_of_steps:20},getters:{parameters:function(t){return t},json:function(t){return""},colorMap:function(t){var e=[];for(var n in t.cell_types)e[n]=t.cell_types[n].color;return e},cell_types:function(t){return t.cell_types},dish_settings:function(t){return t.dish_settings}},mutations:{fromJSON:function(t,e){"string"===typeof e&&(e=JSON.parse(e)),this.set(t,e)},set:function(t,e){t.cell_types=e.cell_types,t.dish_settings=e.dish_settings,t.number_of_simulations=e.number_of_simulations,t.number_of_steps=e.number_of_steps}}},_t={namespaced:!0,state:{simulations:[{id:0,cells:[],state:"stopped"}]},mutations:{setCells:function(t,e){t.simulations[e.id].cells=e.cells},setState:function(t,e){t.simulations[e.id].state=e.state}},getters:{cells:function(t){return function(e){return t.simulations[e].cells}},state:function(t){return function(e){return t.simulations[e].state}},simulations:function(t){return t.simulations}}};a["a"].use(gt["a"]);var wt=new gt["a"].Store({modules:{parameters:yt,simulations:_t}}),St=n("f309"),Vt=n("fcf4");a["a"].use(St["a"]);var xt=new St["a"]({theme:{themes:{light:{primary:Vt["a"].cyan,secondary:"#424242",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"},dark:{primary:"#1976D2",secondary:"#424242",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"}},dark:!0}});a["a"].config.productionTip=!1,new a["a"]({store:wt,vuetify:xt,render:function(t){return t(ht)}}).$mount("#app")},8806:function(t,e,n){t.exports=n.p+"js/0.1527ebe6.worker.js"},a62b:function(t,e,n){"use strict";(function(t){n("a9e3");var a=new Worker(t,void 0);e["a"]={props:{id:{type:Number,default:0},numberOfSteps:{type:Number,default:20},rules:{type:Object,default:function(){return{0:[function(t){return 3===t[1]?1:0}],1:[function(t){return t[1]<2?0:1},function(t){return t[1]>3?0:1}]}}},dishParameters:{type:Object,default:function(){return this.$store.getters["parameters/parameters"]}}},methods:{init:function(){this.isRunning=!1,this.remainingSteps=this.numberOfSteps,a.postMessage(JSON.stringify({action:"init",params:this.dishParameters}))},runSimulation:function(){this.isRunning=!0,a.postMessage(JSON.stringify({action:"run"}))},stopSimulation:function(){this.isRunning=!1}},data:function(){return{isRunning:!1,remainingSteps:0}},mounted:function(){var t=this;this.init(),a.onmessage=function(e){if(t.$store.commit("simulations/setCells",{id:t.id,cells:e.data}),t.remainingSteps-=1,t.remainingSteps>0&&t.isRunning){var n={action:"run",cells:e.data,rules:t.rules},r=JSON.stringify(n);a.postMessage(r)}},this.unwatch=this.$store.watch((function(e,n){return n["simulations/state"](t.id)}),(function(e,n){switch(e){case"running":t.isRunning=!0,t.runSimulation();break;case"init":t.init(),t.isRunning=!1;break;default:t.isRunning=!1;break}}))},beforeDestroy:function(){this.unwatch()}}}).call(this,n("8806"))}});
//# sourceMappingURL=app.f85846c8.js.map