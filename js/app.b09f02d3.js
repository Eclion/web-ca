(function(t){function e(e){for(var a,s,o=e[0],l=e[1],u=e[2],p=0,m=[];p<o.length;p++)s=o[p],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&m.push(r[s][0]),r[s]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);c&&c(e);while(m.length)m.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,o=1;o<n.length;o++){var l=n[o];0!==r[l]&&(a=!1)}a&&(i.splice(e--,1),t=s(s.s=n[0]))}return t}var a={},r={app:0},i=[];function s(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=a,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(n,a,function(e){return t[e]}.bind(null,a));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/web-ca/";var o=this["webpackJsonp"]=this["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var c=l;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("v-app-bar",{staticStyle:{flex:"0 1 auto"}},[n("v-tabs",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[n("v-tab",[t._v("Model")]),n("v-tab",[t._v("Papers")])],1),n("v-switch",{attrs:{"hide-details":"",inset:"",label:"Dark mode"},model:{value:t.$vuetify.theme.dark,callback:function(e){t.$set(t.$vuetify.theme,"dark",e)},expression:"$vuetify.theme.dark"}}),n("v-btn",{attrs:{href:"https://github.com/Eclion/web-ca/",target:"_blank",text:""}},[n("v-icon",{attrs:{large:""}},[t._v("mdi-github")])],1)],1),n("v-container",[n("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[n("v-tab-item",[n("Model")],1),n("v-tab-item",[n("PaperList")],1)],1)],1)],1)},i=[],s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-flex",{attrs:{"d-flex":""}},[n("v-layout",{attrs:{wrap:""}},t._l(t.papers,(function(e){return n("v-flex",{key:e},[n("v-card",{staticClass:"card-container"},[n("v-card-title",[n("a",{attrs:{href:e.url}},[t._v(t._s(e.title))])]),n("v-card-subtitle",[t._v(t._s(e.authors.join(", ")))])],1)],1)})),1)],1)},o=[],l={name:"PaperList",components:{},data:function(){return{papers:[{title:"Defining rules for cancer cell proliferation in TRAIL stimulation",authors:["William Deveaux","Kentaro Hayashi","Kumar Selvarajoo"],publisher:"npjSystems Biology and Applications",url:"https://www.nature.com/articles/s41540-019-0084-5"}]}}},u=l,c=n("2877"),p=n("6544"),m=n.n(p),d=n("b0af"),f=n("99d9"),h=n("0e8f"),v=n("a722"),b=Object(c["a"])(u,s,o,!1,null,null,null),y=b.exports;m()(b,{VCard:d["a"],VCardSubtitle:f["a"],VCardTitle:f["c"],VFlex:h["a"],VLayout:v["a"]});var g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("v-row",{attrs:{"align-content":"center"}},[n("v-col",[n("MainControls")],1)],1),n("v-row",{attrs:{"align-content":"center"}},[n("v-col",{attrs:{cols:"7"}},[n("Parameters")],1),n("v-col",[n("SimulationDisplay")],1)],1)],1)},_=[],w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-row")},x=[],S=n("0fd9"),V={},k=Object(c["a"])(V,w,x,!1,null,null,null),C=k.exports;m()(k,{VRow:S["a"]});var O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{attrs:{color:"primary"}},[n("v-toolbar",{attrs:{color:"primary",dense:""}},[n("v-toolbar-title",[t._v("Parameters")]),n("v-spacer"),n("v-btn",[n("v-card-text",{on:{click:function(e){return t.newSimulation()}}},[t._v("New")])],1),n("v-btn",[n("v-card-text",[t._v("Default")])],1),n("v-btn",[n("v-card-text",{on:{click:function(e){return t.apply()}}},[t._v("Apply")])],1)],1),n("v-expansion-panels",{attrs:{multiple:""}},[n("v-expansion-panel",[n("v-expansion-panel-header",{attrs:{color:"primary"}},[t._v("Dish configuration")]),n("v-expansion-panel-content",{attrs:{color:"primary"}},[n("v-row",[n("v-col",{attrs:{cols:"3"}},[n("v-card-text",[t._v("Dish:")])],1),n("v-col",{attrs:{cols:"2"}},[n("v-text-field",{attrs:{type:"number",label:"Height"},model:{value:t.dishHeight,callback:function(e){t.dishHeight=e},expression:"dishHeight"}})],1),n("v-col",{attrs:{cols:"2"}},[n("v-text-field",{attrs:{type:"number",label:"Width"},model:{value:t.dishWidth,callback:function(e){t.dishWidth=e},expression:"dishWidth"}})],1),n("v-col",{attrs:{cols:"2"}},[n("v-text-field",{attrs:{type:"number",label:"Depth"},model:{value:t.dishDepth,callback:function(e){t.dishDepth=e},expression:"dishDepth"}})],1),n("v-spacer")],1)],1)],1),n("v-expansion-panel",[n("v-expansion-panel-header",{attrs:{color:"primary"}},[t._v("Cells & rules")]),n("v-expansion-panel-content",{attrs:{color:"primary"}})],1),n("v-expansion-panel",[n("v-expansion-panel-header",{attrs:{color:"primary"}},[t._v("Simulation configuration")]),n("v-expansion-panel-content",{attrs:{color:"primary"}},[n("v-row",[n("v-col",{attrs:{cols:"6"}},[n("v-card-text",[t._v("Number of steps:")])],1),n("v-col",{attrs:{cols:"2"}},[n("v-text-field",{attrs:{type:"number"},model:{value:t.numberOfSteps,callback:function(e){t.numberOfSteps=e},expression:"numberOfSteps"}})],1)],1),n("v-row")],1)],1),n("v-expansion-panel",[n("v-expansion-panel-header",{attrs:{color:"primary"}},[t._v("Other")]),n("v-expansion-panel-content",{attrs:{color:"primary"}},[t._v("params")])],1)],1)],1)},F=[],T={components:{},data:function(){return{dishWidth:100,dishHeight:100,dishDepth:1,numberOfSteps:20,initialCellDistribution:"Normal Random"}},methods:{updateDishSettings:function(){this.$store.commit("parameters/setDishSettings",{width:parseInt(this.dishWidth),height:parseInt(this.dishHeight),depth:parseInt(this.dishDepth)})},updateSimulationParameters:function(){this.$store.commit("parameters/setSimulationParameters",{number_of_simulations:1,number_of_steps:parseInt(this.numberOfSteps)})},updateCellTypes:function(){},apply:function(){this.$store.commit("simulations/setParameters",{id:0,parameters:this.$store.getters["parameters/parameters"]})},newSimulation:function(){this.$store.commit("simulations/new",{parameters:this.$store.getters["parameters/parameters"]})}},mounted:function(){0===this.$store.getters["simulations/simulations"].length&&this.newSimulation()},watch:{dishWidth:"updateDishSettings",dishHeight:"updateDishSettings",dishDepth:"updateDishSettings",numberOfSteps:"updateSimulationParameters"}},$=T,D=n("8336"),P=n("62ad"),j=n("cd55"),M=n("49e2"),R=n("c865"),E=n("0393"),I=n("2fa4"),N=n("8654"),W=n("71d9"),H=n("2a7f"),A=Object(c["a"])($,O,F,!1,null,null,null),B=A.exports;m()(A,{VBtn:D["a"],VCard:d["a"],VCardText:f["b"],VCol:P["a"],VExpansionPanel:j["a"],VExpansionPanelContent:M["a"],VExpansionPanelHeader:R["a"],VExpansionPanels:E["a"],VRow:S["a"],VSpacer:I["a"],VTextField:N["a"],VToolbar:W["a"],VToolbarTitle:H["a"]});var J=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{attrs:{color:"primary"}},[n("v-col",[n("v-row",[n("v-col",{attrs:{md:"9"}},[n("v-tabs",{attrs:{"background-color":"primary"},model:{value:t.simulationTab,callback:function(e){t.simulationTab=e},expression:"simulationTab"}},t._l(t.$store.getters["simulations/simulations"],(function(e){return n("v-tab",{key:e.id,staticStyle:{"min-width":"20px"}},[t._v(t._s(e.id))])})),1)],1),n("v-spacer"),n("v-col",{attrs:{md:"3"}},[n("v-btn-toggle",[n("v-btn",{attrs:{color:"primary",depressed:""},on:{click:function(e){return t.updateState("running")}}},[n("v-icon",[t._v("mdi-play")])],1),n("v-btn",{attrs:{color:"primary",depressed:""},on:{click:function(e){return t.updateState("stopped")}}},[n("v-icon",[t._v("mdi-stop")])],1),n("v-btn",{attrs:{color:"primary",depressed:""},on:{click:function(e){return t.updateState("init")}}},[n("v-icon",[t._v("mdi-replay")])],1)],1)],1)],1),n("v-row",[n("v-tabs-items",{staticStyle:{height:"0px",width:"0px"},model:{value:t.simulationTab,callback:function(e){t.simulationTab=e},expression:"simulationTab"}},t._l(t.$store.getters["simulations/simulations"],(function(t){return n("v-tab-item",{key:t.id},[n("Simulation",{attrs:{id:t.id,numberOfSteps:t.numberOfSteps}})],1)})),1)],1),n("v-row",{attrs:{justify:"center"}},[null!==t.simulationTab?n("Dish",{attrs:{id:t.simulationTab}}):t._e()],1)],1)],1)},L=[],K=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-col")},q=[],z=n("a62b"),G=z["a"],Q=Object(c["a"])(G,K,q,!1,null,null,null),U=Q.exports;m()(Q,{VCol:P["a"]});var X=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("canvas",{ref:"dish"})},Y=[],Z=(n("a9e3"),{data:function(){return{colorMap:{0:"#333333",1:"#FFFFFF"}}},props:{id:{type:Number,default:0}},methods:{draw:function(t){var e=t.length;if(!(e<=0)){var n=t[0].length,a=this.$refs.dish,r=a.getContext("2d"),i=Math.max(1,Math.floor(a.parentElement.clientWidth/e));a.width=e*i,a.height=n*i;for(var s=0;s<e;s++)for(var o=0;o<n;o++){r.fillStyle=this.colorMap[t[s][o]];var l=s*i,u=o*i;r.fillRect(l,u,i,i)}}}},mounted:function(){var t=this;this.unwatch=this.$store.watch((function(e,n){return n["simulations/displayedCells"](t.id)}),(function(e,n){t.draw(e)}))},beforeDestroy:function(){this.unwatch(),console.clear()}}),tt=Z,et=Object(c["a"])(tt,X,Y,!1,null,null,null),nt=et.exports,at={components:{Simulation:U,Dish:nt},data:function(){return{simulationTab:null}},methods:{updateState:function(t){this.$store.commit("simulations/setState",{id:this.simulationTab,state:t})}}},rt=at,it=n("a609"),st=n("132d"),ot=n("71a3"),lt=n("c671"),ut=n("fe57"),ct=n("aac8"),pt=Object(c["a"])(rt,J,L,!1,null,null,null),mt=pt.exports;m()(pt,{VBtn:D["a"],VBtnToggle:it["a"],VCard:d["a"],VCol:P["a"],VIcon:st["a"],VRow:S["a"],VSpacer:I["a"],VTab:ot["a"],VTabItem:lt["a"],VTabs:ut["a"],VTabsItems:ct["a"]});var dt={components:{MainControls:C,Parameters:B,SimulationDisplay:mt},data:function(){return{}}},ft=dt,ht=n("a523"),vt=Object(c["a"])(ft,g,_,!1,null,null,null),bt=vt.exports;m()(vt,{VCol:P["a"],VContainer:ht["a"],VRow:S["a"]});var yt={name:"App",components:{Model:bt,PaperList:y},data:function(){return{tab:null}}},gt=yt,_t=n("7496"),wt=n("40dc"),xt=n("b73d"),St=Object(c["a"])(gt,r,i,!1,null,null,null),Vt=St.exports;m()(St,{VApp:_t["a"],VAppBar:wt["a"],VBtn:D["a"],VContainer:ht["a"],VIcon:st["a"],VSwitch:xt["a"],VTab:ot["a"],VTabItem:lt["a"],VTabs:ut["a"],VTabsItems:ct["a"]});var kt=n("2f62"),Ct={namespaced:!0,state:{dish_settings:{width:100,height:100,depth:1},cell_types:[{name:"empty",color:"#000000",rules:["if live neighbors between 2 to 3, becomes live"]},{name:"live",color:"#FFFFFF",rules:["if live neighbors less than 3, becomes empty, else live","if neighbors more than 3, then empty, else live"],distribution:{type:"random",count:500}}],number_of_simulations:1,number_of_steps:20,version:0},getters:{parameters:function(t){return t},json:function(t){return""},colorMap:function(t){var e=[];for(var n in t.cell_types)e[n]=t.cell_types[n].color;return e},cell_types:function(t){return t.cell_types},dish_settings:function(t){return t.dish_settings}},mutations:{fromJSON:function(t,e){"string"===typeof e&&(e=JSON.parse(e)),this.set(t,e)},setSimulationParameters:function(t,e){t.number_of_simulations=e.number_of_simulations,t.number_of_steps=e.number_of_steps},setDishSettings:function(t,e){t.dish_settings=e},setCellParameters:function(t,e){t.cell_types=e}}},Ot={namespaced:!0,state:{simulations:[]},mutations:{setCells:function(t,e){t.simulations[e.id].displayedCells=e.displayedCells},setState:function(t,e){t.simulations[e.id].state=e.state},setParameters:function(t,e){var n=t.simulations[e.id].parameters.version;t.simulations[e.id].parameters.dish_settings=e.parameters.dish_settings,t.simulations[e.id].parameters.cell_types=e.parameters.cell_types,t.simulations[e.id].parameters.number_of_simulations=e.parameters.number_of_simulations,t.simulations[e.id].parameters.number_of_steps=e.parameters.number_of_steps,t.simulations[e.id].parameters.version=n+1},new:function(t,e){t.simulations.push({id:t.simulations.length,parameters:e.parameters,displayedCells:[],state:"stopped"})}},getters:{displayedCells:function(t){return function(e){return t.simulations[e].displayedCells}},state:function(t){return function(e){return t.simulations[e].state}},simulations:function(t){return t.simulations},simulationCount:function(t){return t.count},parameters:function(t){return function(e){return t.simulations[e].parameters}}}};a["a"].use(kt["a"]);var Ft=new kt["a"].Store({modules:{parameters:Ct,simulations:Ot}}),Tt=n("f309"),$t=n("fcf4");a["a"].use(Tt["a"]);var Dt=new Tt["a"]({theme:{themes:{light:{primary:$t["a"].cyan,secondary:"#424242",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"},dark:{primary:"#1976D2",secondary:"#424242",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"}},dark:!0}});a["a"].config.productionTip=!1,new a["a"]({store:Ft,vuetify:Dt,render:function(t){return t(Vt)}}).$mount("#app")},8806:function(t,e,n){t.exports=n.p+"js/0.859d1778.worker.js"},a62b:function(t,e,n){"use strict";(function(t){n("a9e3");e["a"]={props:{id:{type:Number,default:0},rules:{type:Object,default:function(){return{0:[function(t){return 3===t[1]?1:0}],1:[function(t){return t[1]<2?0:1},function(t){return t[1]>3?0:1}]}}}},methods:{init:function(){this.isRunning=!1,this.remainingSteps=this.parameters.number_of_steps,this.worker.postMessage(JSON.stringify({action:"init",params:this.parameters}))},runSimulation:function(){this.isRunning=!0,this.worker.postMessage(JSON.stringify({action:"run"}))},stopSimulation:function(){this.isRunning=!1}},data:function(){return{isRunning:!1,remainingSteps:0,parameters:{},worker:new Worker(t,void 0)}},mounted:function(){var t=this;this.parameters=this.$store.getters["simulations/parameters"](this.id),this.init(),this.worker.onmessage=function(e){if(void 0!==e.data&&(t.$store.commit("simulations/setCells",{id:t.id,displayedCells:e.data}),t.remainingSteps-=1,t.remainingSteps>0&&t.isRunning)){var n={action:"run"},a=JSON.stringify(n);t.worker.postMessage(a)}},this.unwatchState=this.$store.watch((function(e,n){return n["simulations/state"](t.id)}),(function(e,n){switch(e){case"running":t.isRunning=!0,t.runSimulation();break;case"init":t.init(),t.isRunning=!1;break;default:t.isRunning=!1;break}})),this.unwatchParameters=this.$store.watch((function(e,n){return n["simulations/parameters"](t.id).version}),(function(e,n){t.parameters=t.$store.getters["simulations/parameters"](t.id),t.init()}))},beforeDestroy:function(){this.unwatchState(),this.unwatchParameters(),this.worker.terminate()}}}).call(this,n("8806"))}});
//# sourceMappingURL=app.b09f02d3.js.map