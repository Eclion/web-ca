(function(t){function e(e){for(var r,o,s=e[0],l=e[1],c=e[2],f=0,h=[];f<s.length;f++)o=s[f],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&h.push(a[o][0]),a[o]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);u&&u(e);while(h.length)h.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],r=!0,s=1;s<n.length;s++){var l=n[s];0!==a[l]&&(r=!1)}r&&(i.splice(e--,1),t=o(o.s=n[0]))}return t}var r={},a={app:0},i=[];function o(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=r,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/web-ca/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var u=l;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("v-app-bar",{staticStyle:{flex:"0 1 auto"}},[n("v-tabs",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[n("v-tab",[t._v("Model")]),n("v-tab",[t._v("Papers")])],1),n("v-btn",{attrs:{href:"https://github.com/Eclion/web-ca/",target:"_blank",text:""}},[n("span",{staticClass:"mr-2"},[t._v("Github repo")]),n("v-icon",[t._v("mdi-open-in-new")])],1)],1),n("v-container",[n("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[n("v-tab-item",[n("Model")],1),n("v-tab-item",[n("PaperList")],1)],1)],1)],1)},i=[],o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-flex",{attrs:{"d-flex":""}},[n("v-layout",{attrs:{wrap:""}},t._l(t.papers,(function(e){return n("v-flex",{key:e},[n("v-card",{staticClass:"card-container"},[n("v-card-title",[n("a",{attrs:{href:e.url}},[t._v(t._s(e.title))])]),n("v-card-subtitle",[t._v(t._s(e.authors.join(", ")))])],1)],1)})),1)],1)},s=[],l={name:"PaperList",components:{},data:function(){return{papers:[{title:"Defining rules for cancer cell proliferation in TRAIL stimulation",authors:["William Deveaux","Kentaro Hayashi","Kumar Selvarajoo"],publisher:"npjSystems Biology and Applications",url:"https://www.nature.com/articles/s41540-019-0084-5"}]}}},c=l,u=n("2877"),f=n("6544"),h=n.n(f),p=n("b0af"),d=n("99d9"),v=n("0e8f"),m=n("a722"),b=Object(u["a"])(c,o,s,!1,null,null,null),y=b.exports;h()(b,{VCard:p["a"],VCardSubtitle:d["a"],VCardTitle:d["c"],VFlex:v["a"],VLayout:m["a"]});var g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("v-row",{attrs:{"align-content":"center"}},[n("v-col",[n("MainControls")],1)],1),n("v-row",{attrs:{"align-content":"center"}},[n("v-col",{attrs:{cols:"7"}},[n("Parameters")],1),n("v-col",[n("SimulationDisplay")],1)],1)],1)},_=[],w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-row",[n("v-col",{attrs:{cols:"6"}},[t._v(" profile subsection "),n("br"),t._v(' profile selection ("game of life", "custom", etc) '),n("br"),n("v-btn-toggle",[n("v-btn",{attrs:{color:"cyan",depressed:""}},[t._v("save")]),n("v-btn",{attrs:{color:"cyan",depressed:""}},[t._v("load")])],1)],1),n("v-spacer"),n("v-col",{attrs:{cols:"4"}},[t._v(" Process section "),n("br"),n("v-btn-toggle",[n("v-btn",{attrs:{color:"cyan",depressed:""},on:{click:function(e){return t.runSimulation()}}},[t._v("run")]),n("v-btn",{attrs:{color:"cyan",depressed:""}},[t._v("stop")]),n("v-btn",{attrs:{color:"cyan",depressed:""},on:{click:function(e){return t.resetSimulation()}}},[t._v("reset")])],1)],1)],1)},x=[],j=(n("cb29"),n("d81d"),n("b85c")),O=n("d4ec"),S=n("bee2");function V(t,e){for(var n=e-t+1,r=new Array(n),a=0;a<n;a++)r[a]=t+a;return r}var M=function(){function t(e){return Object(O["a"])(this,t),this.rules={0:[function(t){return 3===t[1]?1:0}],1:[function(t){return t[1]<2?0:1},function(t){return t[1]>3?0:1}]},this.number_of_steps=20,this.remaining_steps=20,this}return Object(S["a"])(t,[{key:"applyRules",value:function(t){var e,n=Array(t.width).fill().map((function(){return Array(t.height).fill().map((function(){return Array(t.depth).fill(0)}))})),r=Object(j["a"])(V(0,t.width-1));try{for(r.s();!(e=r.n()).done;){var a,i=e.value,o=Object(j["a"])(V(0,t.height-1));try{for(o.s();!(a=o.n()).done;){var s,l=a.value,c=Object(j["a"])(V(0,t.depth-1));try{for(c.s();!(s=c.n()).done;){var u,f=s.value,h=t[i][l][f],p=t.countNeighbors(i,l,f),d=Object(j["a"])(this.rules[h]);try{for(d.s();!(u=d.n()).done;){var v=u.value,m=v(p);if(m!==h)break}}catch(b){d.e(b)}finally{d.f()}n[i][l][f]=m}}catch(b){c.e(b)}finally{c.f()}}}catch(b){o.e(b)}finally{o.f()}}}catch(b){r.e(b)}finally{r.f()}return n}}]),t}(),C={components:{},methods:{resetSimulation:function(){this.$store.dispatch("simulation/reset")},runSimulation:function(){var t=this.$store.getters["parameters/parameters"],e=this.$store.getters["simulation/grid"],n=new M(t),r=n.applyRules(e);this.$store.commit("simulation/setCells",r)}},data:function(){return{}}},k=C,P=n("8336"),$=n("a609"),A=n("62ad"),F=n("0fd9"),T=n("2fa4"),D=Object(u["a"])(k,w,x,!1,null,null,null),E=D.exports;h()(D,{VBtn:P["a"],VBtnToggle:$["a"],VCol:A["a"],VRow:F["a"],VSpacer:T["a"]});var N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{attrs:{color:"cyan"}},[n("v-card-text",[t._v("Parameters container")]),n("v-card-text",[t._v("-tabs")]),n("v-card-text",[t._v("--container")])],1)},I=[],R={components:{},data:function(){return{}}},B=R,L=Object(u["a"])(B,N,I,!1,null,null,null),J=L.exports;h()(L,{VCard:p["a"],VCardText:d["b"]});var G=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{attrs:{color:"cyan"}},[n("v-card-text",[t._v("Simulation display")]),n("v-card-text",[t._v("-tabs")]),n("v-card-text",[t._v("--container")]),n("Dish")],1)},K=[],W=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("canvas",{ref:"dish"})},H=[],q=(n("a9e3"),{data:function(){return{colorMap:{0:"#333333",1:"#FFFFFF"}}},mounted:function(){this.clear()},propos:{id:{type:Number,default:0}},methods:{clear:function(){var t=this.$store.getters["parameters/dish_settings"];console.log();var e=Array(t.width).fill().map((function(){return Array(t.height).fill().map((function(){return Array(t.depth).fill(0)}))}));this.draw(e)},draw:function(t){var e=t.length;if(!(e<=0)){var n=t[0].length,r=this.$refs.dish,a=r.getContext("2d"),i=Math.max(1,Math.floor(r.parentElement.clientWidth/e));r.width=e*i,r.height=n*i;for(var o=0;o<e;o++)for(var s=0;s<n;s++){for(var l=0,c=0;c<t[o][s].length;c++){var u=t[o][s][c];if(0!==u){l=u;break}}a.fillStyle=this.colorMap[l];var f=o*i,h=s*i;a.fillRect(f,h,i,i)}}}},created:function(){var t=this;this.unwatch=this.$store.watch((function(t,e){return e["simulation/cells"]}),(function(e,n){console.log("updated"),t.draw(e)})),this.$store.dispatch("simulation/reset")},beforeDestroy:function(){this.unwatch(),console.clear()}}),z=q,Q=Object(u["a"])(z,W,H,!1,null,null,null),U=Q.exports,X={components:{Dish:U},data:function(){return{cells:[]}}},Y=X,Z=Object(u["a"])(Y,G,K,!1,null,null,null),tt=Z.exports;h()(Z,{VCard:p["a"],VCardText:d["b"]});var et={components:{MainControls:E,Parameters:J,SimulationDisplay:tt},data:function(){return{}}},nt=et,rt=n("a523"),at=Object(u["a"])(nt,g,_,!1,null,null,null),it=at.exports;h()(at,{VCol:A["a"],VContainer:rt["a"],VRow:F["a"]});var ot={name:"App",components:{Model:it,PaperList:y},data:function(){return{tab:null}}},st=ot,lt=n("7496"),ct=n("40dc"),ut=n("132d"),ft=n("71a3"),ht=n("c671"),pt=n("fe57"),dt=n("aac8"),vt=Object(u["a"])(st,a,i,!1,null,null,null),mt=vt.exports;h()(vt,{VApp:lt["a"],VAppBar:ct["a"],VBtn:P["a"],VContainer:rt["a"],VIcon:ut["a"],VTab:ft["a"],VTabItem:ht["a"],VTabs:pt["a"],VTabsItems:dt["a"]});var bt=n("2f62"),yt={namespaced:!0,state:{dish_settings:{width:100,height:100,depth:1},cell_types:[{name:"empty",color:"#000000",rules:["if live neighbors between 2 to 3, becomes live"]},{name:"live",color:"#FFFFFF",rules:["if live neighbors less than 3, becomes empty, else live","if neighbors more than 3, then empty, else live"],distribution:{type:"random",count:500}}],number_of_simulations:1,number_of_steps:20},getters:{parameters:function(t){return t},json:function(t){return""},colorMap:function(t){var e=[];for(var n in t.cell_types)e[n]=t.cell_types[n].color;return e},cell_types:function(t){return t.cell_types},dish_settings:function(t){return t.dish_settings}},mutations:{fromJSON:function(t,e){"string"===typeof e&&(e=JSON.parse(e)),this.set(t,e)},set:function(t,e){t.cell_types=e.cell_types,t.dish_settings=e.dish_settings,t.number_of_simulations=e.number_of_simulations,t.number_of_steps=e.number_of_steps}}},gt=(n("4de4"),n("13d5"),n("fb6a"),n("b0c0"),n("8ba4"),n("b64b"),n("ade3")),_t=function(){function t(e){return Object(O["a"])(this,t),Object(gt["a"])(this,"cells",[]),null!=e&&(this.cells=e),new Proxy(this,{get:function(t,e){return"string"===typeof e&&Number.isInteger(Number(e))?t.cells[e]:"length"===e||"width"===e?t.cells.length:"height"===e?0===t.cells.length?void 0:t.cells[0].length:"depth"===e?0===t.cells.length||0===t.cells[0].length?void 0:t.cells[0][0].length:t[e]},set:function(t,e,n){return"string"===typeof e&&Number.isInteger(Number(e))?(t.cells[e]=n,!0):(t[e]=n,!0)}})}return Object(S["a"])(t,[{key:"init",value:function(t){var e=t.dish_settings;if(this.cells=Array(e.width).fill().map((function(){return Array(e.height).fill().map((function(){return Array(e.depth).fill(0)}))})),"cell_types"in t){var n=t.cell_types;for(var r in n){var a=n[r];if("empty"!==a.name&&"distribution"in a){var i=a.distribution;switch(i.type){case"random":this.randomDistribution(r,i);break}}}}}},{key:"randomDistribution",value:function(t,e){for(var n=e.count/(this.width*this.height),r=0;r<this.width;r++)for(var a=0;a<this.height;a++)this.cells[r][a][0]=Math.random()<=n?1:0}},{key:"countNeighbors",value:function(t,e,n){var r,a=V(Math.max(0,t-1),Math.min(this.width-1,t+1)),i=V(Math.max(0,e-1),Math.min(this.height-1,e+1)),o=V(Math.max(0,n-1),Math.min(this.depth-1,n+1)),s=null,l={},c=Object(j["a"])(a);try{for(c.s();!(r=c.n()).done;){var u,f=r.value,h=Object(j["a"])(i);try{for(h.s();!(u=h.n()).done;){var p,d=u.value,v=Object(j["a"])(o);try{for(v.s();!(p=v.n()).done;){var m=p.value;s=this[f][d][m],s in l||(l[s]=0),l[s]+=1}}catch(y){v.e(y)}finally{v.f()}}}catch(y){h.e(y)}finally{h.f()}}}catch(y){c.e(y)}finally{c.f()}s=this[t][e][n],s in l?l[s]-=1:l[s]=0;var b=Object.keys(l).filter((function(t){return 0!==t})).map((function(t){return l[t]}));return 0===b.length?l.total=0:1===b.length?l.total=b.slice(0,1)[0]:l.total=b.reduce((function(t,e){return t+e})),l}}]),t}(),wt={namespaced:!0,state:{status:"resetted",grid:new _t},mutations:{setSimulationStatus:function(t,e){t.status=e},resetGrid:function(t,e){t.grid.init(e)},setCells:function(t,e){t.grid.cells=e}},actions:{start:function(t){t.commit("setSimulationStatus","running")},stop:function(t){t.commit("setSimulationStatus","stopped")},reset:function(t){var e=t.commit;t.state;e("resetGrid",this.getters["parameters/parameters"]),e("setSimulationStatus","resetted")}},getters:{cells:function(t){return t.grid.cells},grid:function(t){return t.grid}}};r["a"].use(bt["a"]);var xt=new bt["a"].Store({modules:{parameters:yt,simulation:wt}}),jt=n("f309");r["a"].use(jt["a"]);var Ot=new jt["a"]({});r["a"].config.productionTip=!1,new r["a"]({store:xt,vuetify:Ot,render:function(t){return t(mt)}}).$mount("#app")}});
//# sourceMappingURL=app.1304679a.js.map